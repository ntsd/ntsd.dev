<!DOCTYPE html><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta content="IE=edge" http-equiv="X-UA-Compatible"><meta content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" name="google-site-verification"><meta content="width=device-width,initial-scale=1" name="viewport"><meta name="keywords" content="Programming, Web Development, Coding, Artificial Intelligence, Machine Learning, Jirawat Boonkumnerd"><meta name="theme-color" content="#000000"><meta content="script-src 'self' 'unsafe-inline' giscus.app *.jsdelivr.net *.googletagmanager.com *.google-analytics.com; object-src 'none';base-uri 'none';" http-equiv="Content-Security-Policy"><title>Build and Install OpenWRT on Banana Pi R64 | Jirawat Boonkumnerd</title><meta name="generator" content="Jekyll v4.2.1"><meta property="og:title" content="Build and Install OpenWRT on Banana Pi R64"><meta property="og:locale" content="en_US"><meta name="description" content="Getting start to build and install OpenWRT on Banana Pi R64 by using macOS"><meta property="og:description" content="Getting start to build and install OpenWRT on Banana Pi R64 by using macOS"><link rel="canonical" href="https://ntsd.dev/install-openwrt-on-banana-pi-r64/"><meta property="og:url" content="https://ntsd.dev/install-openwrt-on-banana-pi-r64/"><meta property="og:site_name" content="Jirawat Boonkumnerd"><meta property="og:image" content="https://ntsd.dev/pwa/icons/512.png"><meta property="og:type" content="article"><meta property="article:published_time" content="2020-03-03T19:30:54+07:00"><meta name="twitter:card" content="summary_large_image"><meta property="twitter:image" content="https://ntsd.dev/pwa/icons/512.png"><meta property="twitter:title" content="Build and Install OpenWRT on Banana Pi R64"><meta property="fb:app_id" content="1034059654428260"><style>*,:after,:before{border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:""}html{-webkit-text-size-adjust:100%;font-feature-settings:normal;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-variation-settings:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{line-height:inherit;margin:0}h1,h2,h3,h4{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}code,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}button{font-feature-settings:inherit;color:inherit;font-family:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;line-height:inherit;margin:0;padding:0}button{text-transform:none}[type=button],button{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}h1,h2,h3,h4,p,pre{margin:0}ol,ul{list-style:none;margin:0;padding:0}svg{display:block;vertical-align:middle}*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width:100%){.container{max-width:100%}}.prose{color:var(--tw-prose-body);max-width:65ch}.prose{--tw-prose-body:#374151;--tw-prose-headings:#111827;--tw-prose-lead:#4b5563;--tw-prose-links:#111827;--tw-prose-bold:#111827;--tw-prose-counters:#6b7280;--tw-prose-bullets:#d1d5db;--tw-prose-hr:#e5e7eb;--tw-prose-quotes:#111827;--tw-prose-quote-borders:#e5e7eb;--tw-prose-captions:#6b7280;--tw-prose-kbd:#111827;--tw-prose-kbd-shadows:17 24 39;--tw-prose-code:#111827;--tw-prose-pre-code:#e5e7eb;--tw-prose-pre-bg:#1f2937;--tw-prose-th-borders:#d1d5db;--tw-prose-td-borders:#e5e7eb;--tw-prose-invert-body:#d1d5db;--tw-prose-invert-headings:#fff;--tw-prose-invert-lead:#9ca3af;--tw-prose-invert-links:#fff;--tw-prose-invert-bold:#fff;--tw-prose-invert-counters:#9ca3af;--tw-prose-invert-bullets:#4b5563;--tw-prose-invert-hr:#374151;--tw-prose-invert-quotes:#f3f4f6;--tw-prose-invert-quote-borders:#374151;--tw-prose-invert-captions:#9ca3af;--tw-prose-invert-kbd:#fff;--tw-prose-invert-kbd-shadows:255 255 255;--tw-prose-invert-code:#fff;--tw-prose-invert-pre-code:#d1d5db;--tw-prose-invert-pre-bg:rgba(0,0,0,.5);--tw-prose-invert-th-borders:#4b5563;--tw-prose-invert-td-borders:#374151;font-size:1rem;line-height:1.75}.sticky{position:sticky}.top-0{top:0}.top-28{top:7rem}.z-50{z-index:50}.col-span-12{grid-column:span 12/span 12}.col-span-2{grid-column:span 2/span 2}.mx-auto{margin-left:auto;margin-right:auto}.my-4{margin-bottom:1rem;margin-top:1rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mr-1{margin-right:.25rem}.mt-1{margin-top:.25rem}.mt-4{margin-top:1rem}.inline-block{display:inline-block}.flex{display:flex}.grid{display:grid}.hidden{display:none}.h-6{height:1.5rem}.h-7{height:1.75rem}.max-h-0{max-height:0}.w-6{width:1.5rem}.w-7{width:1.75rem}.w-full{width:100%}.max-w-none{max-width:none}.flex-grow{flex-grow:1}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.grid-cols-12{grid-template-columns:repeat(12,minmax(0,1fr))}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-start{justify-content:flex-start}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-4{gap:1rem}.space-x-4>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:calc(1rem*(1 - var(--tw-space-x-reverse)));margin-right:calc(1rem*var(--tw-space-x-reverse))}.overflow-hidden{overflow:hidden}.rounded-full{border-radius:9999px}.border{border-width:1px}.border-white{--tw-border-opacity:1;border-color:rgb(255 255 255/var(--tw-border-opacity))}.bg-black{--tw-bg-opacity:1;background-color:rgb(0 0 0/var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.bg-cover{background-size:cover}.bg-center{background-position:50%}.fill-current{fill:currentColor}.px-2{padding-left:.5rem;padding-right:.5rem}.px-4{padding-left:1rem;padding-right:1rem}.py-1{padding-bottom:.25rem;padding-top:.25rem}.py-24{padding-bottom:6rem;padding-top:6rem}.py-3{padding-bottom:.75rem;padding-top:.75rem}.py-4{padding-bottom:1rem;padding-top:1rem}.py-8{padding-bottom:2rem;padding-top:2rem}.pl-4{padding-left:1rem}.pt-6{padding-top:1.5rem}.text-left{text-align:left}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.font-bold{font-weight:700}.font-light{font-weight:300}.font-medium{font-weight:500}.font-semibold{font-weight:600}.capitalize{text-transform:capitalize}.tracking-wide{letter-spacing:.025em}.text-gray-300{--tw-text-opacity:1;color:rgb(209 213 219/var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128/var(--tw-text-opacity))}.text-gray-600{--tw-text-opacity:1;color:rgb(75 85 99/var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity:1;color:rgb(31 41 55/var(--tw-text-opacity))}.text-gray-900{--tw-text-opacity:1;color:rgb(17 24 39/var(--tw-text-opacity))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.shadow-md{--tw-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.backdrop-brightness-75{--tw-backdrop-brightness:brightness(.75)}.backdrop-brightness-75,.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}html{scroll-timeline:--page-scroll block;font-family:SFMono-Regular,Consolas,Menlo,Monaco,Liberation Mono,Courier New,monospace;scroll-behavior:smooth}#read-progress{animation-timeline:--page-scroll;animation:grow-progress auto linear;background:#000;bottom:0;height:6px;left:0;position:fixed;transform-origin:0 50%;width:100%;z-index:50}*,:after,:before{border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:""}html{-webkit-text-size-adjust:100%;font-feature-settings:normal;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-variation-settings:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{line-height:inherit;margin:0}h1,h2,h3,h4{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}code,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}button{font-feature-settings:inherit;color:inherit;font-family:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;line-height:inherit;margin:0;padding:0}button{text-transform:none}[type=button],button{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}h1,h2,h3,h4,p,pre{margin:0}ol,ul{list-style:none;margin:0;padding:0}svg{display:block;vertical-align:middle}*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width:100%){.container{max-width:100%}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}.prose{color:var(--tw-prose-body);max-width:65ch}.prose{--tw-prose-body:#374151;--tw-prose-headings:#111827;--tw-prose-lead:#4b5563;--tw-prose-links:#111827;--tw-prose-bold:#111827;--tw-prose-counters:#6b7280;--tw-prose-bullets:#d1d5db;--tw-prose-hr:#e5e7eb;--tw-prose-quotes:#111827;--tw-prose-quote-borders:#e5e7eb;--tw-prose-captions:#6b7280;--tw-prose-kbd:#111827;--tw-prose-kbd-shadows:17 24 39;--tw-prose-code:#111827;--tw-prose-pre-code:#e5e7eb;--tw-prose-pre-bg:#1f2937;--tw-prose-th-borders:#d1d5db;--tw-prose-td-borders:#e5e7eb;--tw-prose-invert-body:#d1d5db;--tw-prose-invert-headings:#fff;--tw-prose-invert-lead:#9ca3af;--tw-prose-invert-links:#fff;--tw-prose-invert-bold:#fff;--tw-prose-invert-counters:#9ca3af;--tw-prose-invert-bullets:#4b5563;--tw-prose-invert-hr:#374151;--tw-prose-invert-quotes:#f3f4f6;--tw-prose-invert-quote-borders:#374151;--tw-prose-invert-captions:#9ca3af;--tw-prose-invert-kbd:#fff;--tw-prose-invert-kbd-shadows:255 255 255;--tw-prose-invert-code:#fff;--tw-prose-invert-pre-code:#d1d5db;--tw-prose-invert-pre-bg:rgba(0,0,0,.5);--tw-prose-invert-th-borders:#4b5563;--tw-prose-invert-td-borders:#374151;font-size:1rem;line-height:1.75}.sticky{position:sticky}.top-0{top:0}.top-28{top:7rem}.z-50{z-index:50}.col-span-12{grid-column:span 12/span 12}.col-span-2{grid-column:span 2/span 2}.mx-auto{margin-left:auto;margin-right:auto}.my-4{margin-bottom:1rem;margin-top:1rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mr-1{margin-right:.25rem}.mt-1{margin-top:.25rem}.mt-4{margin-top:1rem}.inline-block{display:inline-block}.flex{display:flex}.grid{display:grid}.hidden{display:none}.h-6{height:1.5rem}.h-7{height:1.75rem}.max-h-0{max-height:0}.w-6{width:1.5rem}.w-7{width:1.75rem}.w-full{width:100%}.max-w-none{max-width:none}.flex-grow{flex-grow:1}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.grid-cols-12{grid-template-columns:repeat(12,minmax(0,1fr))}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-start{justify-content:flex-start}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-4{gap:1rem}.space-x-4>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:calc(1rem*(1 - var(--tw-space-x-reverse)));margin-right:calc(1rem*var(--tw-space-x-reverse))}.overflow-hidden{overflow:hidden}.rounded-full{border-radius:9999px}.border{border-width:1px}.border-white{--tw-border-opacity:1;border-color:rgb(255 255 255/var(--tw-border-opacity))}.bg-black{--tw-bg-opacity:1;background-color:rgb(0 0 0/var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.bg-cover{background-size:cover}.bg-center{background-position:50%}.fill-current{fill:currentColor}.px-2{padding-left:.5rem;padding-right:.5rem}.px-4{padding-left:1rem;padding-right:1rem}.py-1{padding-bottom:.25rem;padding-top:.25rem}.py-24{padding-bottom:6rem;padding-top:6rem}.py-3{padding-bottom:.75rem;padding-top:.75rem}.py-4{padding-bottom:1rem;padding-top:1rem}.py-8{padding-bottom:2rem;padding-top:2rem}.pl-4{padding-left:1rem}.pt-6{padding-top:1.5rem}.text-left{text-align:left}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.font-bold{font-weight:700}.font-light{font-weight:300}.font-medium{font-weight:500}.font-semibold{font-weight:600}.capitalize{text-transform:capitalize}.tracking-wide{letter-spacing:.025em}.text-gray-300{--tw-text-opacity:1;color:rgb(209 213 219/var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128/var(--tw-text-opacity))}.text-gray-600{--tw-text-opacity:1;color:rgb(75 85 99/var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity:1;color:rgb(31 41 55/var(--tw-text-opacity))}.text-gray-900{--tw-text-opacity:1;color:rgb(17 24 39/var(--tw-text-opacity))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.shadow-md{--tw-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.backdrop-brightness-75{--tw-backdrop-brightness:brightness(.75)}.backdrop-brightness-75,.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}html{scroll-timeline:--page-scroll block;font-family:SFMono-Regular,Consolas,Menlo,Monaco,Liberation Mono,Courier New,monospace;scroll-behavior:smooth}#read-progress{animation-timeline:--page-scroll;animation:grow-progress auto linear;background:#000;bottom:0;height:6px;left:0;position:fixed;transform-origin:0 50%;width:100%;z-index:50}@media (min-width:1024px){.lg\:col-span-10{grid-column:span 10/span 10}.lg\:mt-0{margin-top:0}.lg\:block{display:block}.lg\:flex{display:flex}.lg\:hidden{display:none}.lg\:max-h-screen{max-height:100vh}.lg\:w-auto{width:auto}.lg\:flex-row{flex-direction:row}.lg\:items-center{align-items:center}.lg\:justify-between{justify-content:space-between}.lg\:space-x-4>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:calc(1rem*(1 - var(--tw-space-x-reverse)));margin-right:calc(1rem*var(--tw-space-x-reverse))}.lg\:px-16{padding-left:4rem;padding-right:4rem}.lg\:py-4{padding-bottom:1rem;padding-top:1rem}.lg\:pt-0{padding-top:0}.lg\:text-2xl{font-size:1.5rem;line-height:2rem}.lg\:text-4xl{font-size:2.25rem;line-height:2.5rem}.lg\:text-xl{font-size:1.25rem;line-height:1.75rem}}</style><script type="application/ld+json">{"@type":"BlogPosting","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://ntsd.dev/pwa/icons/icon-min.svg"}},"headline":"Build and Install OpenWRT on Banana Pi R64","dateModified":"2020-03-03T19:30:54+07:00","url":"https://ntsd.dev/install-openwrt-on-banana-pi-r64/","datePublished":"2020-03-03T19:30:54+07:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://ntsd.dev/install-openwrt-on-banana-pi-r64/"},"image":"https://ntsd.dev/pwa/icons/512.png","description":"Getting start to build and install OpenWRT on Banana Pi R64 by using macOS","@context":"https://schema.org"}</script><meta property="og:type" content="website"><style class="anchorjs"></style><link rel="stylesheet" href="/assets/css/style.css" as="style" onload="this.media='all'" media="print"><link rel="manifest" href="/pwa/manifest.json"><link rel="icon" href="/pwa/icons/icon-min.svg"><link rel="apple-touch-icon" href="/pwa/icons/icon-min.svg"></head><body><nav class="bg-white shadow-md sticky top-0 z-50 transition-transform duration-300 transform" id="navbar"><div class="container mx-auto py-3 px-4 lg:py-4 flex flex-col lg:flex-row lg:justify-between lg:items-center"><div class="flex flex-col lg:flex-row justify-between lg:items-center w-full"><div class="flex items-center justify-between w-full lg:w-auto"><div><a class="text-lg lg:text-2xl font-bold text-gray-800 hover:text-gray-700" href="/">Jirawat Boonkumnerd</a></div><div class="flex lg:hidden"><button aria-label="toggle menu" class="text-gray-500 hover:text-gray-600 focus:outline-none focus:text-gray-600" id="nav-toggle" type="button"><svg class="w-6 h-6 fill-current" viewBox="0 0 24 24"><path d="M4 5h16a1 1 0 0 1 0 2H4a1 1 0 1 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2z" fill-rule="evenodd"></path></svg></button></div></div><div class="flex-grow flex flex-col justify-between text-gray-600 capitalize lg:space-x-4 lg:px-16 lg:flex-row lg:items-center overflow-hidden max-h-0 lg:max-h-screen transition-all duration-500" id="menu"><div class="flex flex-col lg:flex-row gap-4 mt-4 lg:mt-0 justify-start"><a class="hover:text-gray-900" href="/">HOME</a> <a class="hover:text-gray-900" href="/blog/">BLOG</a> <a class="hover:text-gray-900" href="/projects/">PROJECTS</a> <a class="hover:text-gray-900" href="/tags/">TAGS</a> <a class="hover:text-gray-900" href="/about/">ABOUT</a></div><div class="flex justify-center pt-6 lg:flex lg:pt-0"><div class="flex space-x-4"><a aria-label="RSS" class="text-gray-600 hover:text-gray-400" href="/feed.xml" rel="noopener noreferrer" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" class="w-7 h-7 fill-current" viewBox="0 0 20 20"><path d="M5 3a1 1 0 000 2c5.523 0 10 4.477 10 10a1 1 0 102 0C17 8.373 11.627 3 5 3z"></path><path d="M4 9a1 1 0 011-1 7 7 0 017 7 1 1 0 11-2 0 5 5 0 00-5-5 1 1 0 01-1-1zM3 15a2 2 0 114 0 2 2 0 01-4 0z"></path></svg> </a><a aria-label="Github" class="text-gray-600 hover:text-gray-400" href="https://github.com/ntsd" rel="noopener noreferrer" target="_blank"><svg class="w-7 h-7 fill-current" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.026 2C7.13295 1.99937 2.96183 5.54799 2.17842 10.3779C1.395 15.2079 4.23061 19.893 8.87302 21.439C9.37302 21.529 9.55202 21.222 9.55202 20.958C9.55202 20.721 9.54402 20.093 9.54102 19.258C6.76602 19.858 6.18002 17.92 6.18002 17.92C5.99733 17.317 5.60459 16.7993 5.07302 16.461C4.17302 15.842 5.14202 15.856 5.14202 15.856C5.78269 15.9438 6.34657 16.3235 6.66902 16.884C6.94195 17.3803 7.40177 17.747 7.94632 17.9026C8.49087 18.0583 9.07503 17.99 9.56902 17.713C9.61544 17.207 9.84055 16.7341 10.204 16.379C7.99002 16.128 5.66202 15.272 5.66202 11.449C5.64973 10.4602 6.01691 9.5043 6.68802 8.778C6.38437 7.91731 6.42013 6.97325 6.78802 6.138C6.78802 6.138 7.62502 5.869 9.53002 7.159C11.1639 6.71101 12.8882 6.71101 14.522 7.159C16.428 5.868 17.264 6.138 17.264 6.138C17.6336 6.97286 17.6694 7.91757 17.364 8.778C18.0376 9.50423 18.4045 10.4626 18.388 11.453C18.388 15.286 16.058 16.128 13.836 16.375C14.3153 16.8651 14.5612 17.5373 14.511 18.221C14.511 19.555 14.499 20.631 14.499 20.958C14.499 21.225 14.677 21.535 15.186 21.437C19.8265 19.8884 22.6591 15.203 21.874 10.3743C21.089 5.54565 16.9181 1.99888 12.026 2Z"></path></svg> </a><a aria-label="Linkedin" class="text-gray-600 hover:text-gray-400" href="https://www.linkedin.com/in/ntsd" rel="noopener noreferrer" target="_blank"><svg class="w-7 h-7 fill-current" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 21H9V9H13V11C13.8526 9.91525 15.1456 9.26857 16.525 9.237C19.0056 9.25077 21.0072 11.2694 21 13.75V21H17V14.25C16.84 13.1326 15.8818 12.3036 14.753 12.306C14.2593 12.3216 13.7932 12.5378 13.4624 12.9046C13.1316 13.2715 12.9646 13.7573 13 14.25V21ZM7 21H3V9H7V21ZM5 7C3.89543 7 3 6.10457 3 5C3 3.89543 3.89543 3 5 3C6.10457 3 7 3.89543 7 5C7 5.53043 6.78929 6.03914 6.41421 6.41421C6.03914 6.78929 5.53043 7 5 7Z"></path></svg> </a><a aria-label="Webring" class="text-gray-600 hover:text-gray-400" href="https://webring.wonderful.software#ntsd.dev" rel="noopener noreferrer" target="_blank"><svg class="mt-1 w-6 h-6 fill-current" fill="none" viewBox="0 0 416 416" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M53 128.8l-16-8.2a192 192 0 1094.7-88.9l7.1 16.6A174 174 0 1153 128.8z" fill-rule="evenodd" fill="currentColor"></path><path d="M94.7 92.3L82 126.5 62.6 95.7l-36.4-1.4 23.3-28-9.9-35.1 33.9 13.5 30.3-20.3-2.4 36.4L130 83.3l-35.3 9z" fill="currentColor"></path></svg></a></div></div></div></div></div></nav><script type="text/javascript" async="">var toggle = document.querySelector("#nav-toggle"); var menu = document.querySelector("#menu"); var opening = false; toggle.addEventListener("click", function (e) { if (opening) { opening = false; menu.classList.remove("max-h-screen"); } else { opening = true; menu.classList.add("max-h-screen"); } }); var navbar = document.querySelector("#navbar"); var prevScrollPos = window.pageYOffset; window.onscroll = function () { var curScrollPos = window.pageYOffset; if (curScrollPos > navbar.offsetHeight && !opening) { if (prevScrollPos > curScrollPos) { navbar.classList.remove("-translate-y-full"); } else { navbar.classList.add("-translate-y-full"); } prevScrollPos = curScrollPos; } };</script><style type="text/css">header .header-bg { background-image: url("/../img/in-post/2020-1-3-install-openwrt-on-banana-pi-r64/plash-speed-2.jpg"); }</style><header><div class="w-full bg-center bg-cover bg-black header-bg"><div class="backdrop-filter backdrop-brightness-75"><div class="container mx-auto grid grid-cols-12"><div class="text-left text-white col-span-12 lg:col-span-10 py-24 px-4"><span><a class="text-sm py-1 px-2 mr-1 mb-2 inline-block border border-white hover:bg-gray-600" href="/categories/#Software%20Development" title="Software Development">Software Development</a> </span><span><a class="text-sm py-1 px-2 mr-1 mb-2 inline-block border border-white rounded-full hover:bg-gray-600" href="/tags/#OpenWRT" title="OpenWRT">OpenWRT</a> <a class="text-sm py-1 px-2 mr-1 mb-2 inline-block border border-white rounded-full hover:bg-gray-600" href="/tags/#Router" title="Router">Router</a> <a class="text-sm py-1 px-2 mr-1 mb-2 inline-block border border-white rounded-full hover:bg-gray-600" href="/tags/#Network" title="Network">Network</a> <a class="text-sm py-1 px-2 mr-1 mb-2 inline-block border border-white rounded-full hover:bg-gray-600" href="/tags/#Embedded" title="Embedded">Embedded</a></span><h1 class="text-2xl lg:text-4xl my-4">Build and Install OpenWRT on Banana Pi R64</h1><h2 class="lg:text-xl my-4">Getting start to build and install OpenWRT on Banana Pi R64 by using macOS</h2><span class="text-sm font-light text-gray-300"><time datetime=" 2020-03-03">March 3, 2020</time></span></div></div></div></div></header><article class="container mx-auto grid grid-cols-12"><div class="col-span-12 lg:col-span-10 py-4 px-4"><div class="py-8"><div class="post-container prose max-w-none"><p>This tutorial is a getting start to build OpenWRT image and install on Banana Pi R64, This guide also works with the Banana Pi R2 but it will be a difference in some steps.</p><h2 id="what-is-banana-pi-r64">What is Banana Pi R64<a class="anchorjs-link" aria-label="Anchor" data-anchorjs-icon="" href="#what-is-banana-pi-r64" style="opacity: 1; padding-left: 0.375em;"></a></h2><p>The Banana Pi R64 is a router-based development board running with ARM Chipset MediaTek MT7622. So you can install operating systems which support to this ARM CPU including OpenWrt, Ubuntu, or many Linux distributions. It has many interfaces support such as on board Wifi/Bluetooth, 1GB Ethernet, USB 3.0, 40 GPIO, etc. Banana Pi R64 can add a Mini-PCI Express Modules and PoE module. And It also has a performance, resource, and interfaces good enough to be a high-end router.</p><h3 id="banana-pi-r64-specifications">Banana Pi R64 Specifications<a class="anchorjs-link" aria-label="Anchor" data-anchorjs-icon="" href="#banana-pi-r64-specifications" style="opacity: 1; padding-left: 0.375em;"></a></h3><ul><li>MediaTek MT7622,1.35GHZ 64 bit dual-core ARM Cortex-A53</li><li>1G DDR3 SDRAM</li><li>Mini PCIE interface support 4G module</li><li>Built-in 4x4n 802.11n/Bluetooth 5.0 system-on-chip</li><li>MTK7615 4x4ac wifi on board</li><li>Support 1 SATA interface</li><li>MicroSD slot supports up to 256GB expansion</li><li>8G eMMC flash (option 16/32/64G)</li><li>5 port 10/100/1000 Mb Ethernet port</li><li>1 Port USB 3.0</li><li>Slow I/O:ADC, Audio Amplifier, GPIO, I2C, I2S, IR, PMIC I/F, PWM, RTC, SPI, UART</li><li>POE function support</li></ul><h2 id="requirements">Requirements<a class="anchorjs-link" aria-label="Anchor" data-anchorjs-icon="" href="#requirements" style="opacity: 1; padding-left: 0.375em;"></a></h2><ul><li>macOS (I used 10.15.3) *for Ubuntu, will easier to build the image</li><li>Banana Pi R64</li><li>MicroSD Card</li><li>MicroSD Card Reader</li><li>USB to UART</li></ul><h2 id="preparation">Preparation<a class="anchorjs-link" aria-label="Anchor" data-anchorjs-icon="" href="#preparation" style="opacity: 1; padding-left: 0.375em;"></a></h2><h3 id="install-usb-to-uart-driver">Install USB to UART Driver<a class="anchorjs-link" aria-label="Anchor" data-anchorjs-icon="" href="#install-usb-to-uart-driver" style="opacity: 1; padding-left: 0.375em;"></a></h3><p>Just follow this link if you’re using FTDI</p><p><a href="https://learn.sparkfun.com/tutorials/how-to-install-ftdi-drivers/all">https://learn.sparkfun.com/tutorials/how-to-install-ftdi-drivers/all</a></p><p>here is for CP2102</p><p><a href="https://www.silabs.com/products/development-tools/software/usb-to-uart-bridge-vcp-drivers">https://www.silabs.com/products/development-tools/software/usb-to-uart-bridge-vcp-drivers</a></p><h3 id="terminal-software-for-serial">Terminal software for serial<a class="anchorjs-link" aria-label="Anchor" data-anchorjs-icon="" href="#terminal-software-for-serial" style="opacity: 1; padding-left: 0.375em;"></a></h3><p>you can use whatever serial console Putty, screen, minicom</p><p>for this tutorial I use <code>screen</code></p><h3 id="download-images">Download images<a class="anchorjs-link" aria-label="Anchor" data-anchorjs-icon="" href="#download-images" style="opacity: 1; padding-left: 0.375em;"></a></h3><h4 id="sd-card-image">SD card image</h4><p><a href="https://drive.google.com/open?id=1Ap7lt-pjpG-pAOAEqpH13-SMOSkRkZI0">https://drive.google.com/open?id=1Ap7lt-pjpG-pAOAEqpH13-SMOSkRkZI0</a></p><h4 id="emmc-all-in-one-single-image">eMMC all-in-one single image</h4><p>includes GPT, ATF, u-boot, and Linux kernel image</p><p><a href="https://drive.google.com/open?id=1w8kO3klbPfdHK6lTI8Ub8sR_7ViISORM">https://drive.google.com/open?id=1w8kO3klbPfdHK6lTI8Ub8sR_7ViISORM</a></p><h4 id="emmc-preloader">eMMC preloader</h4><p><a href="https://drive.google.com/open?id=1Fy__GpNSWRcITEmzH4Z_jxnjrCS3BpQJ">https://drive.google.com/open?id=1Fy__GpNSWRcITEmzH4Z_jxnjrCS3BpQJ</a></p><h2 id="setup-boot-from-emmc">Setup boot from eMMC<a class="anchorjs-link" aria-label="Anchor" data-anchorjs-icon="" href="#setup-boot-from-emmc" style="opacity: 1; padding-left: 0.375em;"></a></h2><p>this step will allow you to build image to eMMC storage on the board instead sd card</p><h3 id="write-sd-card-image-into-sd-card">Write SD card image into SD card<a class="anchorjs-link" aria-label="Anchor" data-anchorjs-icon="" href="#write-sd-card-image-into-sd-card" style="opacity: 1; padding-left: 0.375em;"></a></h3><p>You need to boot via sd card first to write preloader and eMMC all-in-one single image</p><p><code>dd if=sdcardimage.img of=/dev/sdX</code></p><p>replace <code>sdX</code> with your drive</p><h3 id="run-tftp-server">Run TFTP server<a class="anchorjs-link" aria-label="Anchor" data-anchorjs-icon="" href="#run-tftp-server" style="opacity: 1; padding-left: 0.375em;"></a></h3><p>You can your system TFTP Server but for easy on and off the service so I use 3rd party TFTP Server.</p><h4 id="tftp-server">TFTP server</h4><p>you can download here <a href="http://ww2.unime.it/flr/tftpserver">http://ww2.unime.it/flr/tftpserver</a></p><h4 id="macos-build-in-tftp-optional">MacOS build-in tftp (optional)</h4><p>If you don’t like to install 3rd party software you can use system TFTP Service</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight language-bash" tabindex="0"><code class="language-bash"><span class="token function">sudo</span> launchctl load <span class="token parameter variable">-F</span> /System/Library/LaunchDaemons/tftp.plist

<span class="token function">sudo</span> launchctl start com.apple.tftpd

<span class="token builtin class-name">cd</span> /var/tftpboot <span class="token function">touch</span> <span class="token comment"># make initial tftp directory</span>
</code></pre></div></div><h4 id="copy-file-to-tftp-folder">Copy file to tftp folder</h4><p>change mode your directory to allow other users to read and write files</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight language-bash" tabindex="0"><code class="language-bash"><span class="token function">chmod</span> <span class="token number">777</span> /private/tftpboot
</code></pre></div></div><p>copy the binary file into TFTP root directory</p><p><img alt="copy the binary file into TFTP root directory" src="/img/in-post/2020-1-3-install-openwrt-on-banana-pi-r64/1.png" loading="lazy"></p><h3 id="connect-to-board-by-uart">Connect to board by UART<a class="anchorjs-link" aria-label="Anchor" data-anchorjs-icon="" href="#connect-to-board-by-uart" style="opacity: 1; padding-left: 0.375em;"></a></h3><p>use serial 115200 baud for Bananapi r64</p><p><code>sudo screen /dev/cu.usbserial-A50285BI 115200</code></p><p>replace <code>cu.usbserial-A50285BI</code> with your serial driver</p><h3 id="set-u-boot-env">Set u-boot env<a class="anchorjs-link" aria-label="Anchor" data-anchorjs-icon="" href="#set-u-boot-env" style="opacity: 1; padding-left: 0.375em;"></a></h3><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight language-bash" tabindex="0"><code class="language-bash">setenv ipaddr <span class="token number">192.168</span>.1.126 <span class="token comment"># your bpi ip address</span>
setenv serverip <span class="token number">192.168</span>.1.1 <span class="token comment"># your tfto server</span>
setenv netmask <span class="token number">255.255</span>.255.0
saveenv
</code></pre></div></div><p>[comment]: &lt;&gt; (load ROM to address 1080000)</p><p>[comment]: &lt;&gt; (<code>tftp 1080000 preloader_emmc.bin</code>)</p><p>check u-boot env</p><p><code>printenv</code></p><p>return to u-boot menu</p><p><code>bootmenu</code></p><h3 id="write-emmc-image-to-flash-via-tftp">Write eMMC image to flash via TFTP<a class="anchorjs-link" aria-label="Anchor" data-anchorjs-icon="" href="#write-emmc-image-to-flash-via-tftp" style="opacity: 1; padding-left: 0.375em;"></a></h3><p>Put Ethernet to WLAN port for connect to the router</p><p>make sure your TFTP server in the same network with your bpi board</p><h4 id="install-emmc-flash-image-to-flash">Install eMMC flash image to flash</h4><p>in u-boot menu choose “b. System Load flash image then write to Flash via TFTP”</p><p><img alt="b. System Load flash image then write to Flash via TFTP" src="/img/in-post/2020-1-3-install-openwrt-on-banana-pi-r64/2.png" loading="lazy"></p><p>Set TFTP server IP and flash image file name</p><p><img alt="Set TFTP server ip and flash image file name" src="/img/in-post/2020-1-3-install-openwrt-on-banana-pi-r64/3.png" loading="lazy"></p><h4 id="install-preloader-to-flash">Install preloader to flash</h4><p>back to U-Boot menu choose “7. System Load Preloader then write to Flash via TFTP”</p><p><img alt="7. System Load Preloader then write to Flash via TFTP" src="/img/in-post/2020-1-3-install-openwrt-on-banana-pi-r64/4.png" loading="lazy"></p><p>Set TFTP server IP address and preloader file name</p><p><img alt="Set TFTP server ip and preloader file name" src="/img/in-post/2020-1-3-install-openwrt-on-banana-pi-r64/5.png" loading="lazy"></p><p>Remove sd card and power-off The Banana pi, Remove SD card, and Power on.</p><p>Now you’ll get U-BOOT installed on eMMC storage</p><p><img alt="U-BOOT install on eMMC on board storage" src="/img/in-post/2020-1-3-install-openwrt-on-banana-pi-r64/6.png" loading="lazy"></p><h2 id="build-your-openwrt-image">Build your OpenWRT image<a class="anchorjs-link" aria-label="Anchor" data-anchorjs-icon="" href="#build-your-openwrt-image" style="opacity: 1; padding-left: 0.375em;"></a></h2><h3 id="preparation-to-build-openwrt-image">Preparation to build OpenWRT image<a class="anchorjs-link" aria-label="Anchor" data-anchorjs-icon="" href="#preparation-to-build-openwrt-image" style="opacity: 1; padding-left: 0.375em;"></a></h3><p>follow the link for more information <a href="https://openwrt.org/docs/guide-developer/buildroot.exigence.macosx">https://openwrt.org/docs/guide-developer/buildroot.exigence.macosx</a></p><h4 id="setup-macosx-as-an-openwrt-build-environment">Setup MacOSX as an OpenWrt build environment</h4><p>Install these package by Homebrew</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight language-bash" tabindex="0"><code class="language-bash">brew <span class="token function">install</span> coreutils diffutils findutils <span class="token function">gawk</span> gnu-getopt gnu-tar <span class="token function">grep</span> <span class="token function">wget</span> quilt xz

<span class="token comment"># Link gnu-getopt to local gnugetopt</span>
<span class="token function">ln</span> <span class="token parameter variable">-s</span> <span class="token variable"><span class="token variable">`</span>brew <span class="token parameter variable">--prefix</span> gnu-getopt<span class="token variable">`</span></span>/bin/getopt <span class="token variable"><span class="token variable">`</span>brew <span class="token parameter variable">--prefix</span><span class="token variable">`</span></span>/bin/gnugetopt
</code></pre></div></div><p>add gnu-getopt to your path</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight language-bash" tabindex="0"><code class="language-bash"><span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token string">"/usr/local/opt/gnu-getopt/bin:<span class="token environment constant">$PATH</span>"</span>
</code></pre></div></div><h4 id="create-case-insensitive-filesystem">Create case-insensitive filesystem</h4><p>OS X by default comes with a case-insensitive filesystem. OpenWrt won’t build on that. As a workaround, create a (Sparse) case-sensitive disk-image that you then mount in the finder and use as build directory</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight language-bash" tabindex="0"><code class="language-bash">hdiutil create <span class="token parameter variable">-size</span> 20g <span class="token parameter variable">-type</span> SPARSE <span class="token parameter variable">-fs</span> <span class="token string">"Case-sensitive HFS+"</span> <span class="token parameter variable">-volname</span> OpenWrt OpenWrt.sparseimage

<span class="token comment"># mount the image</span>
hdiutil attach OpenWrt.sparseimage
</code></pre></div></div><p>change directory to /Volumes/OpenWrt</p><p><code>cd /Volumes/OpenWrt</code></p><h3 id="build-openwrt-image-for-mt7622">Build OpenWRT Image for MT7622<a class="anchorjs-link" aria-label="Anchor" data-anchorjs-icon="" href="#build-openwrt-image-for-mt7622" style="opacity: 1; padding-left: 0.375em;"></a></h3><h4 id="clone-openwrt-project">Clone OpenWRT project</h4><p><code>git clone https://github.com/openwrt/openwrt.git</code></p><h4 id="set-parametres">Set parametres</h4><p>Target System: MediaTek Ralink ARM</p><p>Subtarget: MT7622</p><p>Target Profile: Banana Pi R64</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight language-bash" tabindex="0"><code class="language-bash"><span class="token builtin class-name">cd</span> openwrt

./scripts/feeds update <span class="token parameter variable">-a</span>
./scripts/feeds <span class="token function">install</span> <span class="token parameter variable">-a</span>

<span class="token function">make</span> menuconfig
</code></pre></div></div><p>Set config and include built-in dependency that you want (Luci is not included by default)</p><p>then save to <code>.config</code></p><h4 id="build-openwrt-image">Build OpenWRT image</h4><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight language-bash" tabindex="0"><code class="language-bash"><span class="token comment"># for 10.15 need set deploy target it to 10.14</span>
<span class="token assign-left variable">MACOSX_DEPLOYMENT_TARGET</span><span class="token operator">=</span><span class="token number">10.14</span>

<span class="token comment"># Start make</span>
<span class="token comment"># vadd v1 mean verbose Level 1 (warnings/errors), level 99 (stdout+stderr)</span>
<span class="token comment"># add -j4 mean use quard core</span>
<span class="token function">make</span> <span class="token parameter variable">-j4</span> <span class="token assign-left variable">V</span><span class="token operator">=</span><span class="token number">1</span>
</code></pre></div></div><p>Kernel image file will be at ./bin/targets/mediatek/mt7622/openwrt-mediatek-mt7622-bpi_bananapi-r64-initramfs-kernel.bin</p><h4 id="install-openwrt-image-to-bananapi-via-tftp">Install OpenWRT Image to Bananapi via TFTP</h4><p>Copy the kernel image to TFTP folder</p><p><code>cp ./bin/targets/mediatek/mt7622/openwrt-mediatek-mt7622-bpi_bananapi-r64-initramfs-kernel.bin /private/tftpboot/</code></p><p>Enter to the U-Boot menu</p><p>Install kernel image from TFTP</p><p><img alt="Install kernel image from TFTP" src="/img/in-post/2020-1-3-install-openwrt-on-banana-pi-r64/8.png" loading="lazy"></p><p>Finally, I got The OpenWRT image installed</p><p><img alt="OpenWRT installed" src="/img/in-post/2020-1-3-install-openwrt-on-banana-pi-r64/7.png" loading="lazy"></p><h2 id="references">References<a class="anchorjs-link" aria-label="Anchor" data-anchorjs-icon="" href="#references" style="opacity: 1; padding-left: 0.375em;"></a></h2><ul><li><a href="http://wiki.banana-pi.org/Banana_Pi_BPI-R64">http://wiki.banana-pi.org/Banana_Pi_BPI-R64</a></li><li><a href="http://forum.banana-pi.org/t/bpi-r64-loading-openwrt-built-files-into-the-board/9960">http://forum.banana-pi.org/t/bpi-r64-loading-openwrt-built-files-into-the-board/9960</a></li><li><a href="http://forum.banana-pi.org/t/bpi-r64-quick-start-boot-from-emmc/9809">http://forum.banana-pi.org/t/bpi-r64-quick-start-boot-from-emmc/9809</a></li><li><a href="https://openwrt.org/docs/guide-developer">https://openwrt.org/docs/guide-developer</a></li></ul></div><ul class="grid grid-cols-2 text-center mt-8 gap-8"><li class="col-span-2 lg:col-span-1 border p-4 hover:bg-gray-800 hover:text-white"><a href="/aria2-max-connections-per-server/" data-toggle="tooltip" data-placement="top" title="Recompile aria2 to increment max connections per server"><div class="text-xl font-bold">Previous</div><div class="font-thin">Recompile aria2 to increment max connections per server</div></a></li><li class="col-span-2 lg:col-span-1 border p-4 hover:bg-gray-800 hover:text-white"><a href="/build-a-static-website-with-gatsby/" data-toggle="tooltip" data-placement="top" title="Build a static website with Gatsby and TypeScript"><div class="text-xl font-bold">Next</div><div class="font-light">Build a static website with Gatsby and TypeScript</div></a></li></ul></div><div class="comment giscus py-8"></div><div class="pt-8"><a class="text-gray-700 font-bond" href="/tags/">FEATURED TAGS</a><div class="my-4 text-xs"><a class="py-1 px-2 mr-1 mb-2 inline-block border border-black rounded-full hover:bg-gray-300" href="/tags/#Artificial%20Intelligence" title="Artificial Intelligence" rel="1">Artificial Intelligence </a><a class="py-1 px-2 mr-1 mb-2 inline-block border border-black rounded-full hover:bg-gray-300" href="/tags/#Programming" title="Programming" rel="11">Programming </a><a class="py-1 px-2 mr-1 mb-2 inline-block border border-black rounded-full hover:bg-gray-300" href="/tags/#Python" title="Python" rel="2">Python </a><a class="py-1 px-2 mr-1 mb-2 inline-block border border-black rounded-full hover:bg-gray-300" href="/tags/#Code%20golf" title="Code golf" rel="1">Code golf </a><a class="py-1 px-2 mr-1 mb-2 inline-block border border-black rounded-full hover:bg-gray-300" href="/tags/#C++" title="C++" rel="1">C++ </a><a class="py-1 px-2 mr-1 mb-2 inline-block border border-black rounded-full hover:bg-gray-300" href="/tags/#aria2" title="aria2" rel="1">aria2 </a><a class="py-1 px-2 mr-1 mb-2 inline-block border border-black rounded-full hover:bg-gray-300" href="/tags/#Network" title="Network" rel="3">Network </a><a class="py-1 px-2 mr-1 mb-2 inline-block border border-black rounded-full hover:bg-gray-300" href="/tags/#OpenWRT" title="OpenWRT" rel="1">OpenWRT </a><a class="py-1 px-2 mr-1 mb-2 inline-block border border-black rounded-full hover:bg-gray-300" href="/tags/#Router" title="Router" rel="1">Router </a><a class="py-1 px-2 mr-1 mb-2 inline-block border border-black rounded-full hover:bg-gray-300" href="/tags/#Embedded" title="Embedded" rel="1">Embedded </a><a class="py-1 px-2 mr-1 mb-2 inline-block border border-black rounded-full hover:bg-gray-300" href="/tags/#Gatsby" title="Gatsby" rel="1">Gatsby </a><a class="py-1 px-2 mr-1 mb-2 inline-block border border-black rounded-full hover:bg-gray-300" href="/tags/#React" title="React" rel="2">React </a><a class="py-1 px-2 mr-1 mb-2 inline-block border border-black rounded-full hover:bg-gray-300" href="/tags/#GraphQL" title="GraphQL" rel="1">GraphQL </a><a class="py-1 px-2 mr-1 mb-2 inline-block border border-black rounded-full hover:bg-gray-300" href="/tags/#Progressive%20Web%20App" title="Progressive Web App" rel="1">Progressive Web App </a><a class="py-1 px-2 mr-1 mb-2 inline-block border border-black rounded-full hover:bg-gray-300" href="/tags/#TypeScript" title="TypeScript" rel="2">TypeScript </a><a class="py-1 px-2 mr-1 mb-2 inline-block border border-black rounded-full hover:bg-gray-300" href="/tags/#Frontend" title="Frontend" rel="8">Frontend </a><a class="py-1 px-2 mr-1 mb-2 inline-block border border-black rounded-full hover:bg-gray-300" href="/tags/#Facebook%20Developer" title="Facebook Developer" rel="1">Facebook Developer </a><a class="py-1 px-2 mr-1 mb-2 inline-block border border-black rounded-full hover:bg-gray-300" href="/tags/#ESLint" title="ESLint" rel="1">ESLint </a><a class="py-1 px-2 mr-1 mb-2 inline-block border border-black rounded-full hover:bg-gray-300" href="/tags/#Hosting" title="Hosting" rel="1">Hosting </a><a class="py-1 px-2 mr-1 mb-2 inline-block border border-black rounded-full hover:bg-gray-300" href="/tags/#Website" title="Website" rel="1">Website </a><a class="py-1 px-2 mr-1 mb-2 inline-block border border-black rounded-full hover:bg-gray-300" href="/tags/#Web%20Performance" title="Web Performance" rel="3">Web Performance </a><a class="py-1 px-2 mr-1 mb-2 inline-block border border-black rounded-full hover:bg-gray-300" href="/tags/#Database" title="Database" rel="1">Database </a><a class="py-1 px-2 mr-1 mb-2 inline-block border border-black rounded-full hover:bg-gray-300" href="/tags/#PostgreSQL" title="PostgreSQL" rel="1">PostgreSQL </a><a class="py-1 px-2 mr-1 mb-2 inline-block border border-black rounded-full hover:bg-gray-300" href="/tags/#Performance" title="Performance" rel="1">Performance </a><a class="py-1 px-2 mr-1 mb-2 inline-block border border-black rounded-full hover:bg-gray-300" href="/tags/#Backend" title="Backend" rel="1">Backend </a><a class="py-1 px-2 mr-1 mb-2 inline-block border border-black rounded-full hover:bg-gray-300" href="/tags/#Web%20Development" title="Web Development" rel="3">Web Development </a><a class="py-1 px-2 mr-1 mb-2 inline-block border border-black rounded-full hover:bg-gray-300" href="/tags/#Git" title="Git" rel="1">Git </a><a class="py-1 px-2 mr-1 mb-2 inline-block border border-black rounded-full hover:bg-gray-300" href="/tags/#Security" title="Security" rel="1">Security </a><a class="py-1 px-2 mr-1 mb-2 inline-block border border-black rounded-full hover:bg-gray-300" href="/tags/#Kubernetes" title="Kubernetes" rel="1">Kubernetes </a><a class="py-1 px-2 mr-1 mb-2 inline-block border border-black rounded-full hover:bg-gray-300" href="/tags/#Google%20Cloud%20Platform" title="Google Cloud Platform" rel="1">Google Cloud Platform </a><a class="py-1 px-2 mr-1 mb-2 inline-block border border-black rounded-full hover:bg-gray-300" href="/tags/#Mobile%20Development" title="Mobile Development" rel="1">Mobile Development </a><a class="py-1 px-2 mr-1 mb-2 inline-block border border-black rounded-full hover:bg-gray-300" href="/tags/#Recoil" title="Recoil" rel="1">Recoil </a><a class="py-1 px-2 mr-1 mb-2 inline-block border border-black rounded-full hover:bg-gray-300" href="/tags/#Capacitor" title="Capacitor" rel="1">Capacitor </a><a class="py-1 px-2 mr-1 mb-2 inline-block border border-black rounded-full hover:bg-gray-300" href="/tags/#CSS" title="CSS" rel="1">CSS </a><a class="py-1 px-2 mr-1 mb-2 inline-block border border-black rounded-full hover:bg-gray-300" href="/tags/#Cloudflare" title="Cloudflare" rel="1">Cloudflare</a></div></div></div><div class="hidden lg:block col-span-2 py-4 pl-4"><div class="on-page-nav sticky top-28 text-gray-500 font-medium py-8"><div class="text-gray-900 tracking-wide font-semibold mb-3 text-sm">ON THIS PAGE</div><nav class="scroll-nav"><ol class="scroll-nav__list"><li class="scroll-nav__item" data-sn-section="what-is-banana-pi-r64"><a class="scroll-nav__link" href="#what-is-banana-pi-r64">What is Banana Pi R64</a></li><li class="scroll-nav__item" data-sn-section="requirements"><a class="scroll-nav__link" href="#requirements">Requirements</a></li><li class="scroll-nav__item" data-sn-section="preparation"><a class="scroll-nav__link" href="#preparation">Preparation</a></li><li class="scroll-nav__item" data-sn-section="setup-boot-from-emmc"><a class="scroll-nav__link" href="#setup-boot-from-emmc">Setup boot from eMMC</a></li><li class="scroll-nav__item" data-sn-section="build-your-openwrt-image"><a class="scroll-nav__link" href="#build-your-openwrt-image">Build your OpenWRT image</a></li><li class="scroll-nav__item" data-sn-section="references"><a class="scroll-nav__link" href="#references">References</a></li></ol></nav></div></div></article><style>nav.scroll-nav a.scroll-nav__link { display: block; padding-top: 0.5rem; padding-bottom: 0.5rem; } nav.scroll-nav li.scroll-nav__item.scroll-nav__item--active { color: #000; font-weight: bold; } nav.scroll-nav a.scroll-nav__link:hover { color: #000; }</style><script type="text/javascript" async="">var sections = document.querySelector('.post-container').getElementsByTagName('h2'); var navs = document.querySelector('.on-page-nav').getElementsByClassName('scroll-nav__item'); if (sections.length > 0 && sections.length === navs.length) { window.addEventListener('scroll', function () { var boundryTop = window.scrollY || window.pageYOffset || document.body.scrollTop; var boundryBottom = boundryTop + window.innerHeight * 0.4; var activeId = 0; for (var i = 0; i < sections.length; i++) { if (sections[i].offsetTop > boundryBottom) { if (!activeId && sections[i].offsetTop < boundryTop) activeId = i; } else { activeId = i; } } var previousActive = document.getElementsByClassName('scroll-nav__item--active'); if (previousActive.length > 0) { previousActive[0].classList.remove('scroll-nav__item--active'); } navs[activeId].classList.add('scroll-nav__item--active'); }); }</script><style>.anchorjs-link { color: #777 !important; text-decoration: none !important; } .anchorjs-link:hover { color: #000 !important; } .anchorjs-link::before { content: "#"; }</style><script type="text/javascript" async="">setTimeout(function () { var d = document, s = d.createElement("script"); s.src = " https://giscus.app/client.js"; s.setAttribute("data-repo", "ntsd/ntsd.dev"); s.setAttribute("data-repo-id", "R_kgDOGQFuoQ"); s.setAttribute("data-category", "General"); s.setAttribute("data-category-id", "DIC_kwDOGQFuoc4CR2-u"); s.setAttribute("data-mapping", "pathname"); s.setAttribute("data-reactions-enabled", "0"); s.setAttribute("data-emit-metadata", "0"); s.setAttribute("data-theme", "light"); s.setAttribute("data-lang", "en"); s.setAttribute("data-loading", "lazy"); s.setAttribute("crossorigin", "anonymous"); (d.head || d.body).appendChild(s); }, 4000);</script><link rel="stylesheet" href="/assets/css/prism.css"><div id="read-progress"></div><footer><hr class="mt-10 dark:border-gray-500"><div class="container px-4 py-8 mx-auto"><div class="flex flex-col lg:flex-row justify-between text-gray-800 space-y-4 lg:space-y-0"><div class="flex justify-center lg:justify-start"><div class="flex space-x-4"><a aria-label="RSS" class="text-gray-600 hover:text-gray-400" href="/feed.xml" rel="noopener noreferrer" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" class="w-7 h-7 fill-current" viewBox="0 0 20 20"><path d="M5 3a1 1 0 000 2c5.523 0 10 4.477 10 10a1 1 0 102 0C17 8.373 11.627 3 5 3z"></path><path d="M4 9a1 1 0 011-1 7 7 0 017 7 1 1 0 11-2 0 5 5 0 00-5-5 1 1 0 01-1-1zM3 15a2 2 0 114 0 2 2 0 01-4 0z"></path></svg> </a><a aria-label="Github" class="text-gray-600 hover:text-gray-400" href="https://github.com/ntsd" rel="noopener noreferrer" target="_blank"><svg class="w-7 h-7 fill-current" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.026 2C7.13295 1.99937 2.96183 5.54799 2.17842 10.3779C1.395 15.2079 4.23061 19.893 8.87302 21.439C9.37302 21.529 9.55202 21.222 9.55202 20.958C9.55202 20.721 9.54402 20.093 9.54102 19.258C6.76602 19.858 6.18002 17.92 6.18002 17.92C5.99733 17.317 5.60459 16.7993 5.07302 16.461C4.17302 15.842 5.14202 15.856 5.14202 15.856C5.78269 15.9438 6.34657 16.3235 6.66902 16.884C6.94195 17.3803 7.40177 17.747 7.94632 17.9026C8.49087 18.0583 9.07503 17.99 9.56902 17.713C9.61544 17.207 9.84055 16.7341 10.204 16.379C7.99002 16.128 5.66202 15.272 5.66202 11.449C5.64973 10.4602 6.01691 9.5043 6.68802 8.778C6.38437 7.91731 6.42013 6.97325 6.78802 6.138C6.78802 6.138 7.62502 5.869 9.53002 7.159C11.1639 6.71101 12.8882 6.71101 14.522 7.159C16.428 5.868 17.264 6.138 17.264 6.138C17.6336 6.97286 17.6694 7.91757 17.364 8.778C18.0376 9.50423 18.4045 10.4626 18.388 11.453C18.388 15.286 16.058 16.128 13.836 16.375C14.3153 16.8651 14.5612 17.5373 14.511 18.221C14.511 19.555 14.499 20.631 14.499 20.958C14.499 21.225 14.677 21.535 15.186 21.437C19.8265 19.8884 22.6591 15.203 21.874 10.3743C21.089 5.54565 16.9181 1.99888 12.026 2Z"></path></svg> </a><a aria-label="Linkedin" class="text-gray-600 hover:text-gray-400" href="https://www.linkedin.com/in/ntsd" rel="noopener noreferrer" target="_blank"><svg class="w-7 h-7 fill-current" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 21H9V9H13V11C13.8526 9.91525 15.1456 9.26857 16.525 9.237C19.0056 9.25077 21.0072 11.2694 21 13.75V21H17V14.25C16.84 13.1326 15.8818 12.3036 14.753 12.306C14.2593 12.3216 13.7932 12.5378 13.4624 12.9046C13.1316 13.2715 12.9646 13.7573 13 14.25V21ZM7 21H3V9H7V21ZM5 7C3.89543 7 3 6.10457 3 5C3 3.89543 3.89543 3 5 3C6.10457 3 7 3.89543 7 5C7 5.53043 6.78929 6.03914 6.41421 6.41421C6.03914 6.78929 5.53043 7 5 7Z"></path></svg> </a><a aria-label="Webring" class="text-gray-600 hover:text-gray-400" href="https://webring.wonderful.software#ntsd.dev" rel="noopener noreferrer" target="_blank"><svg class="mt-1 w-6 h-6 fill-current" fill="none" viewBox="0 0 416 416" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M53 128.8l-16-8.2a192 192 0 1094.7-88.9l7.1 16.6A174 174 0 1153 128.8z" fill-rule="evenodd" fill="currentColor"></path><path d="M94.7 92.3L82 126.5 62.6 95.7l-36.4-1.4 23.3-28-9.9-35.1 33.9 13.5 30.3-20.3-2.4 36.4L130 83.3l-35.3 9z" fill="currentColor"></path></svg></a></div></div><div class="text-center lg:text-right"><div>Copyright © Jirawat Boonkumnerd 2024</div></div></div></div></footer><script type="text/javascript" async="">if ('serviceWorker' in navigator) { navigator.serviceWorker.register('/sw.js').catch((err) => { console.error("service worker register error:", err); }); }</script></body></html>